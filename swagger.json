{"basePath":"/api","consumes":["application/json"],"definitions":{"StandardError":{"properties":{"id":{"example":"Oh42No","type":"string"},"message":{"example":"Something went wrong while writing the file to disk, the server may be out of storage space.","type":"string"},"success":{"example":false,"type":"boolean"},"value":{"example":"writing","type":"string"}},"required":["success","value","message"]}},"host":"pixeldrain.com","info":{"title":"PixelDrain","version":"public beta"},"paths":{"/file":{"post":{"consumes":["multipart/form-data"],"description":"Upload a file.","operationId":"uploadFile","parameters":[{"description":"Multipart file to upload","in":"formData","name":"file","required":true,"type":"file"},{"default":"Name of file param","description":"Name of the file to upload","in":"formData","name":"name","type":"string"},{"default":"Pixeldrain File","description":"Description of the file","in":"formData","name":"description","type":"string"}],"responses":{"201":{"description":"File is uploaded","schema":{"properties":{"id":{"description":"ID of the newly uploaded file","example":"abc123","type":"string"},"success":{"example":true,"type":"boolean"}},"type":"object"}},"default":{"description":"Error Response","schema":{"$ref":"#/definitions/StandardError"}}},"summary":"Upload a file.","tags":["file"]}},"/file/{id}":{"delete":{"description":"Deletes a file. Only works when the users owns the file.","operationId":"deleteFile","parameters":[{"description":"ID of the file to request","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"properties":{"message":{"example":"The file has been deleted.","type":"string"},"success":{"example":true,"type":"boolean"},"value":{"example":"file_deleted","type":"string"}},"type":"object"}},"default":{"description":"Error Response","schema":{"$ref":"#/definitions/StandardError"}}},"summary":"Deletes a file.","tags":["file"]},"get":{"description":"Returns the full file associated with the ID. Supports byte range requests.\n","operationId":"downloadFile","parameters":[{"description":"ID of the file to request","in":"path","name":"id","required":true,"type":"string"}],"produces":["application/octet-stream","application/json"],"responses":{"200":{"description":"A file output stream.","schema":{"type":"file"}},"default":{"description":"Error Response","schema":{"$ref":"#/definitions/StandardError"}}},"summary":"Download a file.","tags":["file"]}},"/file/{id}/info":{"get":{"description":"Returns information about one or more files. You can also put a comma separated list of file IDs in the URL and it will return an array of file info, instead of a single object.\n","operationId":"getFileInfo","parameters":[{"description":"ID(s) of the file","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"properties":{"date_last_view":{"description":"Timestamp of last viewed time","example":"2019-01-15T17:13:43Z","format":"date-time","type":"string"},"date_upload":{"description":"Timestamp of uploaded time","example":"2019-01-15T17:13:43Z","format":"date-time","type":"string"},"description":{"description":"Description of the file","example":"File description","type":"string"},"id":{"description":"ID of the newly uploaded file","example":"abc123","type":"string"},"mime_image":{"description":"Image associated with the mime type","example":"http://pixeldra.in/res/img/mime/image-png.png","type":"string"},"mime_type":{"description":"MIME type of the file","example":"image/png","type":"string"},"name":{"description":"Name of the file","example":"screenshot.png","type":"string"},"size":{"description":"Size of the file in Bytes","example":5694837,"format":"int64","type":"integer"},"success":{"example":true,"type":"boolean"},"thumbnail":{"description":"Link to a thumbnail of this file","example":"http://pixeldra.in/api/thumbnail/123abc","type":"string"},"views":{"description":"Amount of unique file views","example":1234,"format":"int64","type":"integer"}},"type":"object"}},"default":{"description":"Error Response","schema":{"$ref":"#/definitions/StandardError"}}},"summary":"Retrieve information of a file.","tags":["file"]}},"/file/{id}/thumbnail":{"get":{"description":"Returns a PNG thumbnail image representing the file. The thumbnail is always 100*100 px. If the source file is parsable by imagemagick the thumbnail will be generated from the file, if not it will be a generic mime type icon.\n","parameters":[{"description":"ID of the file to get a thumbnail for","in":"path","name":"id","required":true,"type":"string"}],"produces":["image/png","application/json"],"responses":{"200":{"description":"A PNG image of 100*100 px."},"default":{"description":"Error Response","schema":{"$ref":"#/definitions/StandardError"}}},"summary":"Get a thumbnail image representing the file","tags":["file"]}},"/list":{"post":{"description":"Creates a list of files that can be viewed together on the file viewer page.","operationId":"createFileList","parameters":[{"description":"POST body should be a JSON object, example below. A list can contain maximally 5000 files. If you try to add more the request will fail.\n","in":"body","name":"list","required":true,"schema":{"properties":{"description":{"description":"Description of the list.","example":"An album of photos from my vacation in Austria","type":"string"},"files":{"description":"Ordered array of files to add to the list","example":[{"description":"First photo of the week, such a beautiful valley","id":"abc123"},{"description":"The week went by so quickly, here's a photo from the plane back","id":"123abc"}],"items":{"properties":{"description":{"description":"Description of the file","example":"First photo of the week, such a beautiful valley","type":"string"},"id":{"description":"ID of the file","example":"abc123","type":"string"}},"type":"object"},"type":"array"},"title":{"description":"Title of the list.","example":"My beautiful photos","type":"string"}},"required":["title","files"],"type":"object"}}],"responses":{"201":{"description":"List is created","schema":{"properties":{"id":{"description":"ID of the newly created list","example":"yay137","type":"string"},"success":{"example":true,"type":"boolean"}},"type":"object"}},"default":{"description":"Error Response","schema":{"$ref":"#/definitions/StandardError"}}},"summary":"Creates a list of files that can be viewed together on the file viewer page.","tags":["list"]}},"/list/{id}":{"get":{"description":"Returns information about a file list and the files in it.","operationId":"getFileList","parameters":[{"description":"ID of the list","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"properties":{"date_creqated":{"example":1513033315,"type":"number"},"files":{"items":{"properties":{"date_created":{"example":1513033304,"type":"number"},"date_last_view":{"example":1513033304,"type":"number"},"description":{"example":"","type":"string"},"detail_href":{"example":"/file/_SqVWi/info","type":"string"},"file_name":{"example":"01 Holy Wars... The Punishment Due.mp3","type":"string"},"id":{"example":"_SqVWi","type":"string"},"list_description":{"example":"","type":"string"}},"type":"object"},"type":"array"},"id":{"example":"L8bhwx","type":"string"},"success":{"example":true,"type":"boolean"},"title":{"example":"Rust in Peace","type":"string"}},"type":"object"}},"default":{"description":"Error Response","schema":{"$ref":"#/definitions/StandardError"}}},"summary":"Returns information about a file list and the files in it.","tags":["list"]}}},"produces":["application/json","text/plain"],"schemes":["https"],"swagger":"2.0","tags":[{"description":"File Methods","name":"file"},{"description":"List Methods","name":"list"}]}
